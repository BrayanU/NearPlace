import 'package:flutter/material.dart';
import 'package:flutterapp/helpers/svg/svg.dart';
import 'package:weather/weather.dart';

/* Vector Rectangle 7
    Autogenerated by FlutLab FTF Generator
  */
  String key = '856822fd8e22db5e1ba48c0e7d69844a';
  WeatherFactory wf = new WeatherFactory(key);
  Weather w;
  double temp;
  String description;
  
class GeneratedRectangle7Widget6 extends StatefulWidget {
  @override
  _GeneratedRectangle7Widget6State createState() => _GeneratedRectangle7Widget6State();
}

class _GeneratedRectangle7Widget6State extends State<GeneratedRectangle7Widget6> {
  getWeather(lat, lon) async {
    w = await wf.currentWeatherByLocation(lat, lon);
    print(w.weatherDescription);
    
    setState(() {
      temp = w.temperature.celsius;
      description = w.weatherDescription;
      print(temp);
    });
    //return await wf.currentWeatherByLocation(lat, lon).then((value) => {print(value.temperature)});
  }
  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTap: () => {Navigator.pushNamed(context, '/GeneratedOptionsviewWidget'),
      getWeather(10.9878,-74.7889)
      },
      child: Container(
        width: 84.0,
        height: 81.0,
        child: SvgWidget(painters: [
          SvgPathPainter.fill()
            ..addPath('M84 0L0 0L0 81L84 81L84 0Z')
            ..color = Color.fromARGB(255, 112, 112, 112),
        ]),
      ),
    );
  }
}
